"use strict";(self.webpackChunkwebpack_to_study=self.webpackChunkwebpack_to_study||[]).push([[658],{1360:function(e,t,r){var n=r(7294),a=["nameInput","requiredText","regExp","register"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}t.Z=function(e){var t=e.nameInput,r=e.requiredText,i=e.regExp,l=e.register,s=o(e,a);return n.createElement(n.Fragment,null,n.createElement("input",c({},l(t,{required:r,pattern:i}),s,{className:"input ".concat(s.className?s.className:"")})))}},3068:function(e,t,r){var n=r(7294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}t.Z=function(e){var t=a({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return n.createElement("div",a({},t,{className:"input-groupe ".concat(t.className?t.className:"")}))}},9086:function(e,t,r){var n=r(7294),a=["error","value"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}t.Z=function(e){var t=e.error,r=e.value,i=o(e,a);return n.createElement("div",c({},i,{className:"input-rightDie ".concat(i.className?i.className:"")}),function(e){var t=e.error;if(!e.value)return n.createElement(n.Fragment,null);return n.createElement("div",{className:"icon-".concat(t?"plus":"check")})}({error:t,value:r}))}},4581:function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e){var t=e.startPoint;return"".concat(t.day,".").concat(t.month,".").concat(t.year)}function o(e,t){var r=n(t);return"hour"===e&&(r[1]="".concat(+r[1]+2)),r.join("")}function i(e){var t=e.endPoint;return"".concat(t.day,".").concat(t.month,".").concat(t.year)}r.d(t,{Nh:function(){return c},cD:function(){return o},fn:function(){return i}})},5430:function(e,t,r){function n(e,t){var r=[];return e.forEach((function(e){e.cards.forEach((function(e){null!=t&&t.includes(e.bikeId)&&r.push(e)}))})),r}r.d(t,{Z:function(){return n}})},5658:function(e,t,r){r.r(t),r.d(t,{default:function(){return W}});var n=r(6802),a=r(7294),c=r(9250),o=r(7592),i=r(5998),l=r(9570),s=function(e){var t,r,n=e.target.closest("#accountOrder");n&&(null===(t=n.querySelector("#accountOrderMore"))||void 0===t||t.classList.toggle("active"),(0,l.z)()>425&&(null===(r=n.querySelector("#accountOrderArrow"))||void 0===r||r.classList.toggle("active")))},u=r(5430),m=r(4581),d=function(e){var t=e.scrollWidth,r=e.order;return a.createElement("div",{className:"account__order-main"},a.createElement("div",{className:"account__order-title"},t>425?a.createElement("div",{id:"accountOrderArrow",className:"account__order-arrow"}):"",a.createElement("div",{className:"account__order-title-text"},"Заказ ",r.orderId)),a.createElement("div",{className:"account__order-data"},(0,m.Nh)(r.points)),a.createElement("div",{className:"account__order-prise"},"address"===r.typeRentPlase?50+r.prise:r.prise," AED"),a.createElement("div",{className:"account__order-state"},"paid"===r.paidState?"Оплачен":"Не оплачен"),a.createElement("div",{className:f(r.deliveryState)},function(e){if("processing"===e)return"В обработке";if("delivered"===e)return"Доставляется";if("work"===e)return"В работе";if("completed"===e)return"Завершен";return""}(r.deliveryState)))};function f(e){return"processing"===e?"account__order-status processing":"delivered"===e?"account__order-status delivered":"work"===e?"account__order-status work":"completed"===e?"account__order-status completed":""}var v=r(9655),p=r(6782),_=function(e){var t=e.order,r=e.bikeList,n=(0,i.I0)();return a.createElement("div",{id:"accountOrderMore",className:"account__order-more"},a.createElement("ul",{className:"account__order-more-top"},a.createElement("li",{className:"account__order-more-top-line"},a.createElement("div",{className:"account__order-more-top-title title"},"Велосипеды"),a.createElement("div",{className:"account__order-more-top-prise title"},"Цена"),a.createElement("div",{className:"account__order-more-top-quantity title"},(0,l.z)()>1024?"Количество дней":"Кол-во дней"),a.createElement("div",{className:"account__order-more-top-fullPrise title"},"Сумма")),r.map((function(e){return function(e,t){return a.createElement("li",{key:Math.random(),className:"account__order-more-top-line"},a.createElement("div",{className:"account__order-more-top-title"},e.title),a.createElement("div",{className:"account__order-more-top-prise"},e.prise),a.createElement("div",{className:"account__order-more-top-quantity"},t||1),a.createElement("div",{className:"account__order-more-top-fullPrise"},e.prise," AED"))}(e,function(e){var t=e.startPoint,r=e.endPoint;if(!(t.year&&t.month&&t.day))return;var n=new Date(t.year,t.month,t.day);if(!(r.year&&r.month&&r.day))return;var a=(+new Date(r.year,r.month,r.day)-+n)/864e5;return a<1?">1":"".concat(a)}(t.points))}))),a.createElement("div",{className:"account__order-more-bottom"},a.createElement("div",{className:"account__order-more-bottom-result"},a.createElement("div",{className:"account__order-more-bottom-result-item"},a.createElement("div",{className:"account__order-more-bottom-result-title"},"Доставка"),a.createElement("div",{className:"account__order-more-bottom-result-text"},"address"===t.typeRentPlase?50:0," AED")),a.createElement("div",{className:"account__order-more-bottom-result-item"},a.createElement("div",{className:"account__order-more-bottom-result-title"},"Итого"),a.createElement("div",{className:"account__order-more-bottom-result-text"},a.createElement("span",null,"address"===t.typeRentPlase?50+t.prise:t.prise," AED")))),a.createElement("div",{className:"account__order-more-bottom-main"},a.createElement("div",{className:"account__order-more-bottom-left"},a.createElement("div",{className:"account__order-more-bottom-left-item"},"Тип аренды: ","hour"===t.typeRentDate?"2 часа":"По дням"),a.createElement("div",{className:"account__order-more-bottom-left-item"},"Период аренды: ",(0,m.Nh)(t.points)," - ",(0,m.fn)(t.points)),a.createElement("div",{className:"account__order-more-bottom-left-item"},"Тип оплаты: ","plase"===t.typePayment?"На месте":"Онлайн"),a.createElement("div",{className:"account__order-more-bottom-left-item"},"Тип доставки: ","address"===t.typeRentPlase?"Доставка":"Самовывоз")),a.createElement("div",{className:"account__order-more-bottom-right"},a.createElement("div",{onClick:function(){return(0,p.Z)({dispatch:n,type:"toggle",id:t.orderId})},className:"account__order-more-bottom-button white genButton"},"Отменить заказ"),a.createElement(v.OL,{to:"/exendLease",id:"exendLease",className:"account__order-more-bottom-button genButton"},"Продлить аренду")))))};var E=function(e,t,r){var n=(0,u.Z)(t,e.bikeRentList);return a.createElement("li",{id:"accountOrder",onClick:s,key:Math.random(),className:"account__order"},a.createElement(d,{scrollWidth:r,order:e}),a.createElement(_,{order:e,bikeList:n}))},y=function(){return a.createElement("li",{id:"orderPreview",className:"account__order"},a.createElement("div",{className:"account__order-main"},a.createElement("div",{className:"account__order-title title"},"Номер заказа"),a.createElement("div",{className:"account__order-data title"},"Дата"),a.createElement("div",{className:"account__order-prise title"},"Стоимость"),a.createElement("div",{className:"account__order-state title"},"Оплата"),a.createElement("div",{className:"account__order-status title"},"Статус")))},b=["type","orderList","bikeRentInfo","scrollWidth","activeOrderList"];function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var g=function(e){var t=e.type,r=e.orderList,n=e.bikeRentInfo,c=e.scrollWidth,o=e.activeOrderList,i=N(e,b);return function(e){var t=e.type,r=e.orderList,n=e.activeOrderList;if(!r)return!0;if("active"===t&&"active"===n&&r.find((function(e){return"completed"!==e.deliveryState})))return!1;if("completed"===t&&"completed"===n&&r.find((function(e){return"completed"===e.deliveryState})))return!1;return!0}({type:t,activeOrderList:o,orderList:r})?a.createElement("div",h({},i,{className:"account__order-box ".concat(i.className?i.className:""," absenceOrder")}),"Заказы не найдены"):a.createElement(a.Fragment,null,a.createElement(y,null),a.createElement("div",h({},i,{className:"account__order-box ".concat(i.className?i.className:"")}),null==r?void 0:r.map((function(e){if("active"===t){if("completed"!==e.deliveryState)return E(e,n,c)}else if("completed"===e.deliveryState)return E(e,n,c)}))))};var O=r(1360),w=r(9086),I=r(3068),j=r(5118),k={name:j.cS,mail:j.u9,pass:j.G0,phone:j.Oj,adress:j.aq},S={name:"Имя",mail:"E-mail",pass:"Пароль",phone:"Номер телефона",adress:"Адрес доставки"},x=function(e){var t=e.nameInput,r=e.register,n=e.edit,c=e.errors,o=e.watch;return a.createElement("div",{className:"delivery__item-card"},a.createElement("div",{className:"delivery__item-card-title"},S[t]),a.createElement(I.Z,null,a.createElement(O.Z,{nameInput:t,regExp:k[t],register:r,requiredText:!1,className:"delivery__item-card-text account__info-input ".concat(n?"":"disabled"),disabled:!n&&!0}),a.createElement(w.Z,{error:c[t],value:o(t),className:"rentForm__item-input-rightDie ".concat(n?"":"disabled")})))};function A(e){var t=e.scrollWidth,r=e.editUserInfo,n=e.formObj,c=n.register,o=n.formState.errors,i=n.watch;return t>768?a.createElement(a.Fragment,null,a.createElement("div",{className:"account__info-line"},a.createElement(x,{nameInput:"name",register:c,edit:r,watch:i,errors:o}),a.createElement(x,{nameInput:"mail",register:c,edit:r,watch:i,errors:o}),a.createElement(x,{nameInput:"pass",register:c,edit:r,watch:i,errors:o})),a.createElement("div",{className:"account__info-line"},a.createElement(x,{nameInput:"phone",register:c,edit:r,watch:i,errors:o}),a.createElement(x,{nameInput:"adress",register:c,edit:r,watch:i,errors:o}),a.createElement("div",{className:"delivery__item-card"},a.createElement("div",{className:"delivery__item-card-title"}),a.createElement("div",{className:"delivery__item-card-text"})))):a.createElement(a.Fragment,null,a.createElement("div",{className:"account__info-line"},a.createElement(x,{nameInput:"name",register:c,edit:r,watch:i,errors:o}),a.createElement(x,{nameInput:"mail",register:c,edit:r,watch:i,errors:o})),a.createElement("div",{className:"account__info-line"},a.createElement(x,{nameInput:"phone",register:c,edit:r,watch:i,errors:o}),a.createElement(x,{nameInput:"adress",register:c,edit:r,watch:i,errors:o})),a.createElement("div",{className:"account__info-line"},a.createElement("div",{className:"delivery__item-card"},a.createElement("div",{className:"delivery__item-card-title"}),a.createElement("div",{className:"delivery__item-card-text"}))))}var L=r(7536),P=r(6542),Z=r(6344),C=function(e){var t=e.activeOrderList,r=e.scrollWidth,n=e.editUserInfo,c=e.setEditUserInfo,o=(0,P.T)(),l=(0,i.v9)((function(e){return e.userRouter.user})),s=(0,L.cI)({mode:"onChange"});return(0,a.useEffect)((function(){var e={name:l.name?l.name:"",mail:l.mail?l.mail:"",pass:l.pass?l.pass:"",phone:l.phone?l.phone:"",adress:l.addressDelivery?l.addressDelivery:""};s.reset(e)}),[l]),a.createElement("form",{onSubmit:s.handleSubmit((function(e){return o((0,Z.Z)(e))})),className:"account__order-box ".concat("userInfo"===t?"visable":void 0)},a.createElement(A,{scrollWidth:r,editUserInfo:n,formObj:s}),a.createElement("div",{onClick:function(){return c((function(e){return!e}))}},a.createElement("button",{type:n?"button":"submit",className:"account__info-button genButton"},n?"Сохранить":"Редактировать")))};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,o,i=[],l=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=function(){var e=(0,c.bx)().scrollWidth,t=(0,i.v9)((function(e){return e.userRouter.user.orderList})),r=(0,i.v9)((function(e){return e.rentRouter.bikeRentInfo})),n=R((0,a.useState)("active"),2),o=n[0],l=n[1],s=R((0,a.useState)(!1),2),u=s[0],m=s[1];return a.createElement("div",{className:"account wrapper-component"},a.createElement("div",{className:"wrapper-component-title"},"Личный кабинет"),a.createElement("div",{className:"account__param-box"},a.createElement("div",{onClick:function(e){return l("active")},className:"account__param ".concat("active"===o?"active":"")},"Текущие заказы"),a.createElement("div",{onClick:function(e){return l("completed")},className:"account__param ".concat("completed"===o?"active":"")},"Выполненные заказы"),a.createElement("div",{onClick:function(e){return l("userInfo")},className:"account__param ".concat("userInfo"===o?"active":"")},"Личные данные")),a.createElement("ul",{className:"account__order-list"},a.createElement(g,{type:"active",orderList:t,scrollWidth:e,bikeRentInfo:r,className:"active"===o?"visable":void 0,activeOrderList:o}),a.createElement(g,{type:"completed",orderList:t,scrollWidth:e,bikeRentInfo:r,className:"completed"===o?"visable":void 0,activeOrderList:o}),a.createElement(C,{activeOrderList:o,scrollWidth:e,editUserInfo:u,setEditUserInfo:m})))},W=function(){var e=(0,c.bx)().userUid;return(0,a.useEffect)((function(){(0,n.Z)()})),e?a.createElement("div",{key:"account__container",className:"account__container"},a.createElement(q,null)):a.createElement("div",{id:"setHeightChildren",key:"account__unduser",className:"account__unduser"},a.createElement("div",{className:"account__botton-reg-box"},a.createElement("div",{className:"account__botton-reg-text"},"Вы не авторизированны, пожалуйста войдите в аккаунт"),a.createElement("button",{id:"accountButton",onClick:o.Z,className:"account__botton-reg genButton"},"Войти")))}},5118:function(e,t,r){r.d(t,{G0:function(){return i},Oj:function(){return a},aq:function(){return c},cS:function(){return n},u9:function(){return o}});var n=/[а-яА-Я]/,a=/^[+7|7|8][0-9]{10,12}$/,c=/[а-яА-Я](.[0-9])?/,o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z.0-9]+$/,i=/(?=.*?[a-zа-я])(?=.*?[A-ZА-Я])(?=.*?[0-9])[a-zа-яA-ZА-Я0-9]{10,}/},6802:function(e,t,r){function n(){document.querySelectorAll("#setHeightChildren, [data-set-height-children]").forEach((function(e){var t,r=null===(t=e.parentElement)||void 0===t?void 0:t.offsetHeight;e.style.height=r+"px"}))}r.d(t,{Z:function(){return n}})}}]);